<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STIP Admin Panel</title>
    <style>
        * { font-family: 'Hind Siliguri', sans-serif; }
        body { padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h2 { color: #2c3e50; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px; }
        button { background: #2ecc71; color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; font-size: 16px; }
        button:hover { background: #27ae60; }
        .login-box { max-width: 400px; margin: 100px auto; }
        .message { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .logout-btn { background: #e74c3c; float: right; }
        .tabs { display: flex; margin-bottom: 20px; }
        .tab { padding: 10px 20px; cursor: pointer; border-bottom: 2px solid transparent; }
        .tab.active { border-color: #3498db; font-weight: bold; }
    </style>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
</head>
<body>
    <div class="container" id="loginContainer">
        <div class="login-box">
            <h2>üîê STIP Admin ‡¶≤‡¶ó‡¶á‡¶®</h2>
            <div class="form-group">
                <label>‡¶á‡¶Æ‡ßá‡¶á‡¶≤:</label>
                <input type="email" id="email" placeholder="admin@stip.com">
            </div>
            <div class="form-group">
                <label>‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°:</label>
                <input type="password" id="password" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°">
            </div>
            <button onclick="login()">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <div id="loginMessage"></div>
        </div>
    </div>

    <div class="container" id="adminPanel" style="display:none;">
        <button class="logout-btn" onclick="logout()">üö™ ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</button>
        <h2>üìä STIP Admin Dashboard</h2>
        
        <div class="tabs">
            <div class="tab active" onclick="showTab('notice')">üì¢ ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</div>
            <div class="tab" onclick="showTab('course')">üìö ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</div>
            <div class="tab" onclick="showTab('view')">üëÅÔ∏è ‡¶°‡¶æ‡¶ü‡¶æ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</div>
        </div>

        <!-- ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="noticeTab" class="tab-content">
            <h3>‡¶®‡¶§‡ßÅ‡¶® ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
            <div class="form-group">
                <label>‡¶®‡ßã‡¶ü‡¶ø‡¶∂‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ:</label>
                <input type="text" id="noticeTitle" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶ö‡¶≤‡¶õ‡ßá">
            </div>
            <div class="form-group">
                <label>‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§:</label>
                <textarea id="noticeDetails" rows="4" placeholder="‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
            </div>
            <div class="form-group">
                <label>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</label>
                <input type="date" id="noticeDate">
            </div>
            <div class="form-group">
                <label>‡¶ß‡¶∞‡¶®:</label>
                <select id="noticeType">
                    <option value="‡¶ú‡¶∞‡ßÅ‡¶∞‡ßÄ">‚ö†Ô∏è ‡¶ú‡¶∞‡ßÅ‡¶∞‡ßÄ</option>
                    <option value="‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£">üì¢ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£</option>
                    <option value="‡¶õ‡ßÅ‡¶ü‡¶ø">üéâ ‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶ò‡ßã‡¶∑‡¶£‡¶æ</option>
                </select>
            </div>
            <button onclick="addNotice()">‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <div id="noticeMessage"></div>
        </div>

        <!-- ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="courseTab" class="tab-content" style="display:none;">
            <h3>‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
            <div class="form-group">
                <label>‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:</label>
                <input type="text" id="courseName" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶ü‡ßá‡¶á‡¶≤‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶è‡¶®‡ßç‡¶° ‡¶°‡ßç‡¶∞‡ßá‡¶∏ ‡¶Æ‡ßá‡¶ï‡¶ø‡¶Ç">
            </div>
            <div class="form-group">
                <label>‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶:</label>
                <input type="text" id="courseDuration" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡ß¨ ‡¶Æ‡¶æ‡¶∏">
            </div>
            <div class="form-group">
                <label>‡¶¨‡¶ø‡¶¨‡¶∞‡¶£:</label>
                <textarea id="courseDescription" rows="4" placeholder="‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§..."></textarea>
            </div>
            <div class="form-group">
                <label>‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶´‡¶ø (‡¶ü‡¶æ‡¶ï‡¶æ‡¶Ø‡¶º):</label>
                <input type="number" id="courseFee" placeholder="5000">
            </div>
            <button onclick="addCourse()">‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <div id="courseMessage"></div>
        </div>

        <!-- ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≠‡¶ø‡¶â -->
        <div id="viewTab" class="tab-content" style="display:none;">
            <h3>‡¶∏‡¶ï‡¶≤ ‡¶®‡ßã‡¶ü‡¶ø‡¶∂</h3>
            <div id="noticesList"></div>
            
            <h3 style="margin-top:40px;">‡¶∏‡¶ï‡¶≤ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</h3>
            <div id="coursesList"></div>
        </div>
    </div>

    <script>
        // Firebase ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® (‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶ï‡ßã‡¶° ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®)
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "stip-admin.firebaseapp.com",
            projectId: "stip-admin",
            storageBucket: "stip-admin.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Firebase ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Firebase Console ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶ï‡ßÉ‡¶§ ‡¶ï‡ßã‡¶° ‡¶™‡¶æ‡¶¨‡ßá‡¶®
        // Project Settings ‚Üí General ‚Üí Your apps ‚Üí Web app ‚Üí Config

        // ‡¶≤‡¶ó‡¶á‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    document.getElementById('loginContainer').style.display = 'none';
                    document.getElementById('adminPanel').style.display = 'block';
                    loadData();
                })
                .catch((error) => {
                    document.getElementById('loginMessage').innerHTML = 
                        `<div class="error">‚ùå ‡¶≠‡ßÅ‡¶≤ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¨‡¶æ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</div>`;
                });
        }

        // ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
        function addNotice() {
            const notice = {
                title: document.getElementById('noticeTitle').value,
                details: document.getElementById('noticeDetails').value,
                date: document.getElementById('noticeDate').value || new Date().toISOString().split('T')[0],
                type: document.getElementById('noticeType').value,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            };

            db.collection("notices").add(notice)
                .then(() => {
                    document.getElementById('noticeMessage').innerHTML = 
                        `<div class="success">‚úÖ ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</div>`;
                    document.getElementById('noticeTitle').value = '';
                    document.getElementById('noticeDetails').value = '';
                    loadData();
                })
                .catch((error) => {
                    document.getElementById('noticeMessage').innerHTML = 
                        `<div class="error">‚ùå ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ${error.message}</div>`;
                });
        }

        // ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
        function loadData() {
            // ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶≤‡ßã‡¶°
            db.collection("notices").orderBy("timestamp", "desc").limit(10)
                .get()
                .then((querySnapshot) => {
                    let html = '<ul>';
                    querySnapshot.forEach((doc) => {
                        const data = doc.data();
                        html += `<li><strong>${data.title}</strong> - ${data.date} (${data.type})<br>${data.details}</li>`;
                    });
                    html += '</ul>';
                    document.getElementById('noticesList').innerHTML = html;
                });

            // ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶≤‡ßã‡¶°
            db.collection("courses").get()
                .then((querySnapshot) => {
                    let html = '<ul>';
                    querySnapshot.forEach((doc) => {
                        const data = doc.data();
                        html += `<li><strong>${data.name}</strong> - ${data.duration} (${data.fee} ‡¶ü‡¶æ‡¶ï‡¶æ)<br>${data.description}</li>`;
                    });
                    html += '</ul>';
                    document.getElementById('coursesList').innerHTML = html;
                });
        }

        // ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName + 'Tab').style.display = 'block';
            event.target.classList.add('active');
        }

        // ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
        function logout() {
            auth.signOut().then(() => {
                document.getElementById('adminPanel').style.display = 'none';
                document.getElementById('loginContainer').style.display = 'block';
            });
        }

        // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶ó‡¶á‡¶® ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶ö‡ßá‡¶ï
        auth.onAuthStateChanged((user) => {
            if (user) {
                document.getElementById('loginContainer').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                loadData();
            }
        });
    </script>
</body>
</html>